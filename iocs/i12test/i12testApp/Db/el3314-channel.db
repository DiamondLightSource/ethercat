#Macros
#% macro, P, Device Prefix
#% macro, S, Device suffix
#% macro, N, Channel number
#% macro, ST, Ethercat scanner channel for status
#% macro, CH, Ethercat scanner channel for value
#% macro, PORT, Asyn port for ethercat scanner
#value
record(ai, "$(P)$(S):IN$(N)")
{
  field(PINI, "YES")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT))$(CH)")
  field(SCAN, "1 second")
}
record(ai, "$(P)$(S):ST$(N)")
{
  field(PINI, "YES")
  field(DTYP, "asynInt32")
  field(INP,  "@asyn($(PORT))$(ST)")
  field(SCAN, "1 second")
  field(FLNK, "$(P)$(S):CH$(N):B0")
}
record(mbbi, "$(P)$(S):CH$(N):B0") {
  field(DTYP, "Raw Soft Channel")
  field(INP, "$(P)$(S):ST$(N)")
  field(NOBT, "1")
  field(SHFT, "0")
  field(ZRVL, "0")
  field(ONVL, "1")
  field(ZRST, "OFF")
  field(ONST, "ON")
}

