#!$(INSTALL)/bin/$(ARCH)/i12test

## You may have to change i12test to something else
## everywhere it appears in this file

cd "$(INSTALL)"

# Load binaries on architectures that need to do so.
# VXWORKS_ONLY, LINUX_ONLY and RTEMS_ONLY are macros that resolve
# to a comment symbol on architectures that are not the current
# build architecture, so they can be used liberally to do architecture
# specific things. Alternatively, you can include an architecture
# specific file.
$(VXWORKS_ONLY)ld < bin/$(ARCH)/i12test.munch

## This drvTS initializer is needed if the IOC has a hardware event system
#TSinit

## Register all support components
dbLoadDatabase("dbd/i12test.dbd")
i12test_registerRecordDeviceDriver(pdbbase)

ecConfigure("ECSCAN", 0, 27)
## Load record instances
dbLoadRecords("db/el2624.db", "P=,S=BL12I-EA-ECAT-03,CHANNEL=9,PORT=ECSCAN")
dbLoadRecords("db/el3314-channel.db", "P=,S=BL12I-EA-ECAT-05,N=1,ST=F,CH=10,PORT=ECSCAN")
dbLoadRecords("db/el3314-channel.db", "P=,S=BL12I-EA-ECAT-05,N=2,ST=11,CH=12,PORT=ECSCAN")
dbLoadRecords("db/el3314-channel.db", "P=,S=BL12I-EA-ECAT-05,N=3,ST=13,CH=14,PORT=ECSCAN")
dbLoadRecords("db/el3314-channel.db", "P=,S=BL12I-EA-ECAT-05,N=4,ST=15,CH=16,PORT=ECSCAN")
dbLoadRecords("db/el3202-channel.db", "P=,S=BL12I-EA-ECAT-06,N=1,ST=17,CH=18,PORT=ECSCAN")
dbLoadRecords("db/el3202-channel.db", "P=,S=BL12I-EA-ECAT-06,N=2,ST=19,CH=1a,PORT=ECSCAN")
dbLoadRecords("db/el1014.db", "P=,S=BL12I-EA-ECAT-07,CHANNEL=1b,PORT=ECSCAN")

enableWriterMsg(0)
enableReaderMsg(0)
asynSetTraceMask("ECSCAN", 0, 0x00)
asynSetTraceIOMask("ECSCAN", 0, 0x00)

iocInit()

## Start any sequence programs
#seq sncExample,"user=xxx"
